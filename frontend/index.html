<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Budget Tool</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="app" data-theme="dark">
        <header class="app-header">
            <h1>üí∞ Kuntz Family Budget App</h1>
            <button id="theme-toggle" class="theme-toggle" title="Toggle theme">
                <span class="theme-icon">üåô</span>
            </button>
        </header>

        <!-- Tab Navigation -->
        <nav class="tab-nav">
            <button class="tab-btn active" data-tab="dashboard">
                <span class="tab-icon">üìä</span>
                <span class="tab-label">Dashboard</span>
            </button>
            <button class="tab-btn" data-tab="income">
                <span class="tab-icon">üíµ</span>
                <span class="tab-label">Income</span>
            </button>
            <button class="tab-btn" data-tab="expenses">
                <span class="tab-icon">üìù</span>
                <span class="tab-label">Monthly Expenses</span>
            </button>
            <button class="tab-btn" data-tab="spending">
                <span class="tab-icon">üõí</span>
                <span class="tab-label">Spending Accounts</span>
            </button>
            <button class="tab-btn" data-tab="savings">
                <span class="tab-icon">üè¶</span>
                <span class="tab-label">Savings</span>
            </button>
            <button class="tab-btn" data-tab="goals">
                <span class="tab-icon">üéØ</span>
                <span class="tab-label">Goals</span>
            </button>
            <button class="tab-btn" data-tab="reports">
                <span class="tab-icon">üìà</span>
                <span class="tab-label">Reports</span>
            </button>
        </nav>

        <main class="app-main">
            <!-- Update Banner (hidden by default) -->
            <div id="update-banner" class="update-banner" style="display: none;">
                <p id="update-message"></p>
                <div id="progress-container" class="progress-container" style="display: none;">
                    <div class="progress-bar-wrapper">
                        <div id="progress-bar" class="progress-bar"></div>
                    </div>
                    <div class="progress-info">
                        <span id="progress-percent">0%</span>
                        <span id="progress-size">0 MB / 0 MB</span>
                    </div>
                </div>
                <button id="update-button" class="update-button" style="display: none;">
                    Restart & Update
                </button>
            </div>

            <!-- Dashboard Tab -->
            <div id="tab-dashboard" class="tab-content active">
                <div class="dashboard-header">
                    <h2>Financial Overview</h2>
                    <p class="dashboard-date" id="current-date"></p>
                </div>
                
                <!-- Overdraft Warning System -->
                <div id="overdraft-warning" class="overdraft-warning" style="display: none;">
                    <div class="overdraft-header">
                        <div class="overdraft-icon-container">
                            <span class="overdraft-icon" id="overdraft-icon">‚ö†Ô∏è</span>
                        </div>
                        <div class="overdraft-content">
                            <h3 class="overdraft-title" id="overdraft-title">Overdraft Risk Assessment</h3>
                            <div class="overdraft-warnings" id="overdraft-warnings">
                                <!-- Warning messages will be populated here -->
                            </div>
                        </div>
                    </div>
                    <div class="overdraft-recommendations">
                        <h4>üí° Recommendations:</h4>
                        <ul id="overdraft-recommendations-list">
                            <!-- Recommendations will be populated here -->
                        </ul>
                    </div>
                    <div class="overdraft-metrics" id="overdraft-metrics">
                        <!-- Metrics will be populated here -->
                    </div>
                </div>
                
                <!-- Smart Recommendations -->
                <div id="smart-recommendations" class="smart-recommendations" style="display: none;">
                    <div class="recommendations-header">
                        <div class="recommendations-icon">üí°</div>
                        <div class="recommendations-title">
                            <h3>Smart Recommendations</h3>
                            <p class="recommendations-subtitle">Personalized actions to improve your financial health</p>
                        </div>
                    </div>
                    
                    <!-- Priority Actions (Critical/Urgent) -->
                    <div id="priority-actions-container" class="priority-actions-container" style="display: none;">
                        <div class="priority-actions-header">
                            <span class="priority-badge critical">‚ö° Priority Actions</span>
                        </div>
                        <div id="priority-actions-list" class="recommendations-list">
                            <!-- Priority actions will be populated here -->
                        </div>
                    </div>
                    
                    <!-- Regular Recommendations -->
                    <div id="recommendations-container" class="recommendations-container">
                        <div id="recommendations-list" class="recommendations-list">
                            <!-- Recommendations will be populated here -->
                        </div>
                    </div>
                </div>
                
                <!-- Top Summary Cards -->
                <div class="summary-cards">
                    <div class="summary-card income-card">
                        <h3>Total Monthly Income</h3>
                        <p class="summary-amount">$0.00</p>
                        <span class="summary-label">All income sources</span>
                    </div>
                    <div class="summary-card expense-card">
                        <h3>Fixed Expenses</h3>
                        <p class="summary-amount">$0.00</p>
                        <span class="summary-label">Monthly bills & obligations</span>
                    </div>
                    <div class="summary-card available-card">
                        <h3>Available to Spend</h3>
                        <p class="summary-amount">$0.00</p>
                        <span class="summary-label">After expenses & savings</span>
                    </div>
                    <div class="summary-card savings-card">
                        <h3>Total Savings</h3>
                        <p class="summary-amount">$0.00</p>
                        <span class="summary-label">All savings accounts</span>
                    </div>
                </div>

                <!-- Month Comparison Section -->
                <div class="dashboard-section month-comparison-section" id="month-comparison-section" style="display: none;">
                    <div class="section-header">
                        <h3>üìä Month-over-Month Comparison</h3>
                        <span class="section-subtitle" id="comparison-subtitle">Current vs. Previous Month</span>
                    </div>
                    
                    <div class="comparison-grid" id="comparison-grid">
                        <!-- Comparison cards will be dynamically inserted here -->
                    </div>
                    
                    <div class="comparison-insights" id="comparison-insights">
                        <!-- Insights will be dynamically inserted here -->
                    </div>
                </div>

                <!-- Main Dashboard Grid -->
                <div class="dashboard-grid">
                    <!-- Left Column -->
                    <div class="dashboard-column-left">
                        <!-- Account Balances Section -->
                        <div class="dashboard-section">
                            <div class="section-header">
                                <h3>üí≥ Account Balances</h3>
                                <button class="btn-primary btn-sm" id="add-account-btn">+ Add Account</button>
                            </div>
                            <div id="accounts-container" class="accounts-grid">
                                <p class="placeholder-text">No accounts added yet. Click "Add Account" to get started.</p>
                            </div>
                        </div>
                        
                        <!-- Recent Activity Section -->
                        <div class="dashboard-section">
                            <div class="section-header">
                                <h3>üìù Recent Activity</h3>
                            </div>
                            <p class="placeholder-text">No recent transactions</p>
                        </div>
                        
                        <!-- Spending Pattern Insights -->
                        <div class="dashboard-section">
                            <div class="section-header">
                                <h3>üîç Spending Pattern Insights</h3>
                                <span class="section-subtitle">Compare with your history</span>
                            </div>
                            <div id="spending-patterns-container" class="spending-patterns-container">
                                <div class="patterns-loading" id="patterns-loading">
                                    <div class="loading-spinner">‚è≥</div>
                                    <p>Analyzing your spending patterns...</p>
                                </div>
                                <div class="patterns-alerts" id="patterns-alerts" style="display: none;">
                                    <!-- Alerts will be populated here -->
                                </div>
                                <div class="patterns-insights" id="patterns-insights" style="display: none;">
                                    <!-- Insights will be populated here -->
                                </div>
                                <div class="patterns-placeholder" id="patterns-placeholder" style="display: none;">
                                    <p class="placeholder-text">Add more transactions to see spending pattern analysis</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Right Column -->
                    <div class="dashboard-column-right">
                        <!-- Month-to-Date Spending -->
                        <div class="dashboard-section">
                            <div class="section-header">
                                <h3>üìä Month-to-Date Spending</h3>
                                <span class="section-subtitle" id="mtd-date-range"></span>
                            </div>
                            <div class="mtd-summary">
                                <div class="mtd-card">
                                    <span class="mtd-label">Total Spent</span>
                                    <span class="mtd-amount" id="mtd-total">$0.00</span>
                                </div>
                                <div class="mtd-card">
                                    <span class="mtd-label">Transactions</span>
                                    <span class="mtd-count" id="mtd-count">0</span>
                                </div>
                                <div class="mtd-card">
                                    <span class="mtd-label">Average/Day</span>
                                    <span class="mtd-average" id="mtd-average">$0.00</span>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Spending Velocity Indicator -->
                        <div class="dashboard-section">
                            <div class="section-header">
                                <h3>‚ö° Spending Velocity</h3>
                                <span class="section-subtitle">How fast are you spending?</span>
                            </div>
                            <div id="velocity-container" class="velocity-container">
                                <div class="velocity-status" id="velocity-status">
                                    <div class="velocity-icon" id="velocity-icon">‚è±Ô∏è</div>
                                    <div class="velocity-status-text" id="velocity-status-text">Calculating...</div>
                                </div>
                                <div class="velocity-details">
                                    <div class="velocity-row">
                                        <span class="velocity-label">Current Pace:</span>
                                        <span class="velocity-value" id="velocity-actual">$0.00/day</span>
                                    </div>
                                    <div class="velocity-row">
                                        <span class="velocity-label">Target Pace:</span>
                                        <span class="velocity-value" id="velocity-target">$0.00/day</span>
                                    </div>
                                    <div class="velocity-row">
                                        <span class="velocity-label">Days Remaining:</span>
                                        <span class="velocity-value" id="velocity-days">0 days</span>
                                    </div>
                                </div>
                                <div class="velocity-message" id="velocity-message">
                                    Add income and transactions to see your spending velocity
                                </div>
                                <div class="velocity-projection" id="velocity-projection" style="display: none;">
                                    <div class="projection-label">Projected Month End:</div>
                                    <div class="projection-value" id="velocity-projected">$0.00 remaining</div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Next Paycheck Countdown -->
                        <div class="dashboard-section">
                            <div class="section-header">
                                <h3>üí∞ Next Paycheck</h3>
                                <span class="section-subtitle">Days until payday</span>
                            </div>
                            <div id="paycheck-container" class="paycheck-container">
                                <div class="paycheck-countdown" id="paycheck-countdown">
                                    <div class="paycheck-days" id="paycheck-days">--</div>
                                    <div class="paycheck-label">days</div>
                                </div>
                                <div class="paycheck-details" id="paycheck-details">
                                    <div class="paycheck-row">
                                        <span class="paycheck-label">Date:</span>
                                        <span class="paycheck-value" id="paycheck-date">--</span>
                                    </div>
                                    <div class="paycheck-row">
                                        <span class="paycheck-label">Source:</span>
                                        <span class="paycheck-value" id="paycheck-source">--</span>
                                    </div>
                                    <div class="paycheck-row">
                                        <span class="paycheck-label">Amount:</span>
                                        <span class="paycheck-value" id="paycheck-amount">$0.00</span>
                                    </div>
                                </div>
                                <div class="paycheck-message" id="paycheck-message">
                                    Add income sources with pay dates to see your next paycheck countdown
                                </div>
                            </div>
                        </div>
                        
                        <!-- Money Left Per Day -->
                        <div class="dashboard-section">
                            <div class="section-header">
                                <h3>üíµ Money Left Per Day</h3>
                                <span class="section-subtitle">Daily spending budget</span>
                            </div>
                            <div id="money-per-day-container" class="money-per-day-container">
                                <div class="money-per-day-display" id="money-per-day-display">
                                    <div class="money-per-day-amount" id="money-per-day-amount">$0.00</div>
                                    <div class="money-per-day-label">per day</div>
                                </div>
                                <div class="money-per-day-status" id="money-per-day-status">
                                    <div class="status-indicator" id="money-per-day-indicator">
                                        <span class="status-icon" id="money-per-day-icon">üí∞</span>
                                        <span class="status-text" id="money-per-day-status-text">Calculating...</span>
                                    </div>
                                </div>
                                <div class="money-per-day-details" id="money-per-day-details">
                                    <div class="money-per-day-row">
                                        <span class="money-per-day-label">Remaining:</span>
                                        <span class="money-per-day-value" id="money-per-day-remaining">$0.00</span>
                                    </div>
                                    <div class="money-per-day-row">
                                        <span class="money-per-day-label">Days Left:</span>
                                        <span class="money-per-day-value" id="money-per-day-days">0 days</span>
                                    </div>
                                </div>
                                <div class="money-per-day-message" id="money-per-day-message">
                                    Add income and transactions to see your daily budget
                                </div>
                            </div>
                        </div>
                        
                        <!-- Budget Health Score -->
                        <div class="dashboard-section">
                            <div class="section-header">
                                <h3>üí™ Budget Health Score</h3>
                                <span class="section-subtitle">Overall financial health rating</span>
                            </div>
                            <div id="budget-health-container" class="budget-health-container">
                                <div class="budget-health-score-display">
                                    <div class="health-score-circle" id="health-score-circle">
                                        <div class="health-score-number" id="health-score-number">--</div>
                                        <div class="health-score-total">/100</div>
                                    </div>
                                    <div class="health-grade-display">
                                        <div class="health-grade" id="health-grade">--</div>
                                        <div class="health-grade-text" id="health-grade-text">Calculating...</div>
                                    </div>
                                </div>
                                
                                <div class="health-breakdown" id="health-breakdown">
                                    <h4>Score Breakdown:</h4>
                                    <div class="health-category">
                                        <div class="health-category-header">
                                            <span class="health-category-name">Account Health</span>
                                            <span class="health-category-score" id="health-account-score">0/25</span>
                                        </div>
                                        <div class="health-progress-bar">
                                            <div class="health-progress-fill" id="health-account-progress"></div>
                                        </div>
                                        <ul class="health-factors" id="health-account-factors"></ul>
                                    </div>
                                    
                                    <div class="health-category">
                                        <div class="health-category-header">
                                            <span class="health-category-name">Spending Adherence</span>
                                            <span class="health-category-score" id="health-spending-score">0/25</span>
                                        </div>
                                        <div class="health-progress-bar">
                                            <div class="health-progress-fill" id="health-spending-progress"></div>
                                        </div>
                                        <ul class="health-factors" id="health-spending-factors"></ul>
                                    </div>
                                    
                                    <div class="health-category">
                                        <div class="health-category-header">
                                            <span class="health-category-name">Savings Rate</span>
                                            <span class="health-category-score" id="health-savings-score">0/20</span>
                                        </div>
                                        <div class="health-progress-bar">
                                            <div class="health-progress-fill" id="health-savings-progress"></div>
                                        </div>
                                        <ul class="health-factors" id="health-savings-factors"></ul>
                                    </div>
                                    
                                    <div class="health-category">
                                        <div class="health-category-header">
                                            <span class="health-category-name">Bill Payment</span>
                                            <span class="health-category-score" id="health-bill-score">0/20</span>
                                        </div>
                                        <div class="health-progress-bar">
                                            <div class="health-progress-fill" id="health-bill-progress"></div>
                                        </div>
                                        <ul class="health-factors" id="health-bill-factors"></ul>
                                    </div>
                                    
                                    <div class="health-category">
                                        <div class="health-category-header">
                                            <span class="health-category-name">Setup Completeness</span>
                                            <span class="health-category-score" id="health-setup-score">0/10</span>
                                        </div>
                                        <div class="health-progress-bar">
                                            <div class="health-progress-fill" id="health-setup-progress"></div>
                                        </div>
                                        <ul class="health-factors" id="health-setup-factors"></ul>
                                    </div>
                                </div>
                                
                                <div class="health-recommendations" id="health-recommendations">
                                    <h4>üí° Recommendations:</h4>
                                    <ul id="health-recommendations-list"></ul>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Upcoming Bills (Next 7 Days) -->
                        <div class="dashboard-section">
                            <div class="section-header">
                                <h3>üìÖ Bills Due Soon</h3>
                                <span class="section-subtitle">Next 7 days</span>
                            </div>
                            <div id="upcoming-bills-container" class="upcoming-bills-container">
                                <div class="upcoming-bills-summary" id="upcoming-bills-summary" style="display: none;">
                                    <div class="bills-summary-stat">
                                        <span class="bills-summary-label">Total Due:</span>
                                        <span class="bills-summary-value" id="bills-total-due">$0.00</span>
                                    </div>
                                    <div class="bills-summary-stat">
                                        <span class="bills-summary-label">Bills:</span>
                                        <span class="bills-summary-value" id="bills-count">0</span>
                                    </div>
                                </div>
                                <div class="upcoming-bills-list" id="upcoming-bills-list">
                                    <p class="placeholder-text" id="bills-placeholder">No bills due in the next 7 days</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Income Tab -->
            <div id="tab-income" class="tab-content">
                <div class="page-header">
                    <div>
                        <h2>üíµ Income Sources</h2>
                        <p class="tab-description">Track all sources of income for your household</p>
                    </div>
                    <button class="btn-primary" id="add-income-btn">+ Add Income Source</button>
                </div>
                
                <div class="income-summary">
                    <div class="summary-box">
                        <span class="summary-label">Total Monthly Income</span>
                        <span class="summary-value" id="income-total-display">$0.00</span>
                    </div>
                    <div class="summary-box">
                        <span class="summary-label">Active Income Sources</span>
                        <span class="summary-value" id="income-count-display">0</span>
                    </div>
                </div>
                
                <div id="income-list-container" class="income-list">
                    <p class="placeholder-text">No income sources added yet. Click "Add Income Source" to get started.</p>
                </div>
            </div>

            <!-- Monthly Expenses Tab -->
            <div id="tab-expenses" class="tab-content">
                <div class="page-header">
                    <div>
                        <h2>üìù Monthly Expenses</h2>
                        <p class="tab-description">Manage your fixed monthly bills and obligations</p>
                    </div>
                    <button class="btn-primary" id="add-expense-btn">+ Add Expense</button>
                </div>
                
                <div class="expense-summary">
                    <div class="summary-box">
                        <span class="summary-label">Total Monthly Expenses</span>
                        <span class="summary-value expense-total" id="expense-total-display">$0.00</span>
                    </div>
                    <div class="summary-box">
                        <span class="summary-label">Active Expenses</span>
                        <span class="summary-value" id="expense-count-display">0</span>
                    </div>
                </div>
                
                <div id="expense-list-container" class="expense-list">
                    <p class="placeholder-text">No expenses added yet. Click "Add Expense" to get started.</p>
                </div>
            </div>

            <!-- Spending Accounts Tab -->
            <div id="tab-spending" class="tab-content">
                <h2>Spending Accounts</h2>
                <p class="tab-description">Allocate money to different spending categories</p>
                <div class="content-placeholder">
                    <p>Spending accounts will be built here</p>
                    <ul>
                        <li>Groceries</li>
                        <li>Entertainment</li>
                        <li>Dining out</li>
                        <li>Personal care</li>
                        <li>Clothing</li>
                        <li>Transportation</li>
                    </ul>
                </div>
            </div>

            <!-- Savings Tab -->
            <div id="tab-savings" class="tab-content">
                <h2>Savings</h2>
                <p class="tab-description">Track your savings accounts and emergency funds</p>
                <div class="content-placeholder">
                    <p>Savings tracking will be built here</p>
                    <ul>
                        <li>Emergency fund</li>
                        <li>Vacation fund</li>
                        <li>Home improvement</li>
                        <li>Vehicle fund</li>
                        <li>Education savings</li>
                    </ul>
                </div>
            </div>

            <!-- Goals Tab -->
            <div id="tab-goals" class="tab-content">
                <h2>Financial Goals</h2>
                <p class="tab-description">Set and track progress toward your financial goals</p>
                <div class="content-placeholder">
                    <p>Goal tracking will be built here</p>
                    <ul>
                        <li>Short-term goals</li>
                        <li>Long-term goals</li>
                        <li>Debt payoff plans</li>
                        <li>Savings milestones</li>
                    </ul>
                </div>
            </div>

            <!-- Reports Tab -->
            <div id="tab-reports" class="tab-content">
                <h2>Financial Reports</h2>
                <p class="tab-description">Analyze your spending patterns and trends</p>
                <div class="content-placeholder">
                    <p>Reports will be built here</p>
                    <ul>
                        <li>Monthly spending breakdown</li>
                        <li>Income vs expenses trends</li>
                        <li>Category spending analysis</li>
                        <li>Year-over-year comparison</li>
                        <li>Net worth tracking</li>
                    </ul>
                </div>
            </div>
        </main>

        <footer class="app-footer">
            <p>Budget Tool <strong id="footer-version">v1.5.10</strong></p>
        </footer>
    </div>

    <!-- Account Modal -->
    <div id="account-modal" class="modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="account-modal-title">Add Account</h3>
                <button class="modal-close" id="close-account-modal">&times;</button>
            </div>
            <form id="account-form">
                <div class="form-group">
                    <label for="account-type">Account Type</label>
                    <select id="account-type" required>
                        <option value="">Select account type...</option>
                        <option value="checking">üíµ Checking Account</option>
                        <option value="savings">üè¶ Savings Account</option>
                        <option value="credit">üí≥ Credit Card</option>
                        <option value="investment">üìà Investment Account</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="account-name">Account Name</label>
                    <input type="text" id="account-name" placeholder="e.g., Chase Checking, Wells Fargo Savings" required>
                </div>
                <div class="form-group">
                    <label for="account-balance">Current Balance</label>
                    <input type="number" id="account-balance" placeholder="0.00" step="0.01" required>
                </div>
                <div class="modal-actions">
                    <button type="button" class="btn-secondary" id="cancel-account-btn">Cancel</button>
                    <button type="submit" class="btn-primary" id="save-account-btn">Save Account</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Income Modal -->
    <div id="income-modal" class="modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="income-modal-title">Add Income Source</h3>
                <button class="modal-close" id="close-income-modal">&times;</button>
            </div>
            <form id="income-form">
                <div class="form-group">
                    <label for="income-type">Income Type</label>
                    <select id="income-type" required>
                        <option value="">Select income type...</option>
                        <option value="salary">üíº Primary Salary</option>
                        <option value="secondary-salary">üíº Secondary Salary</option>
                        <option value="freelance">üíª Freelance/Side Hustle</option>
                        <option value="investment">üìà Investment Income</option>
                        <option value="rental">üè† Rental Income</option>
                        <option value="other">üí∞ Other Income</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="income-name">Source Name</label>
                    <input type="text" id="income-name" placeholder="e.g., Acme Corp Salary, Freelance Design" required>
                </div>
                <div class="form-group">
                    <label for="income-amount">Amount</label>
                    <input type="number" id="income-amount" placeholder="0.00" step="0.01" required>
                </div>
                <div class="form-group">
                    <label for="income-frequency">Frequency</label>
                    <select id="income-frequency" required>
                        <option value="weekly">Weekly</option>
                        <option value="bi-weekly">Bi-weekly (Every 2 weeks)</option>
                        <option value="monthly" selected>Monthly</option>
                        <option value="annual">Annual</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="income-next-pay-date">Next Pay Date (Optional)</label>
                    <input type="date" id="income-next-pay-date" title="When is your next paycheck? This helps calculate days until payday">
                    <small class="form-help">Set your next expected pay date to see a countdown on your dashboard</small>
                </div>
                
                <!-- Tax Withholding Section -->
                <div class="form-section">
                    <h4 class="form-section-title">üí∞ Tax Withholding & Deductions</h4>
                    <p class="form-section-description">Enter pre-tax deductions to calculate your net (take-home) income</p>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="income-federal-tax">Federal Income Tax (%)</label>
                            <input type="number" id="income-federal-tax" placeholder="0.00" step="0.01" min="0" max="100" value="0">
                            <small class="form-help">Percentage withheld for federal taxes</small>
                        </div>
                        <div class="form-group">
                            <label for="income-state-tax">State Income Tax (%)</label>
                            <input type="number" id="income-state-tax" placeholder="0.00" step="0.01" min="0" max="100" value="0">
                            <small class="form-help">Percentage withheld for state taxes</small>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="income-social-security">Social Security (6.2%)</label>
                            <input type="number" id="income-social-security" placeholder="6.2" step="0.01" min="0" max="100" value="6.2">
                            <small class="form-help">FICA Social Security tax (typically 6.2%)</small>
                        </div>
                        <div class="form-group">
                            <label for="income-medicare">Medicare (1.45%)</label>
                            <input type="number" id="income-medicare" placeholder="1.45" step="0.01" min="0" max="100" value="1.45">
                            <small class="form-help">FICA Medicare tax (typically 1.45%)</small>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="income-other-deductions">Other Deductions ($)</label>
                        <input type="number" id="income-other-deductions" placeholder="0.00" step="0.01" min="0" value="0">
                        <small class="form-help">401k, HSA, health insurance, etc. (flat dollar amount per payment)</small>
                    </div>
                    
                    <!-- Net Income Display -->
                    <div class="net-income-calculator">
                        <div class="calc-row">
                            <span class="calc-label">Gross Income:</span>
                            <span class="calc-value" id="calc-gross-income">$0.00</span>
                        </div>
                        <div class="calc-row">
                            <span class="calc-label">Total Taxes & Deductions:</span>
                            <span class="calc-value expense" id="calc-total-deductions">-$0.00</span>
                        </div>
                        <div class="calc-row calc-total">
                            <span class="calc-label">Net Income (Take-Home):</span>
                            <span class="calc-value income" id="calc-net-income">$0.00</span>
                        </div>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="income-notes">Notes (Optional)</label>
                    <textarea id="income-notes" placeholder="Additional details about this income source..." rows="3"></textarea>
                </div>
                <div class="modal-actions">
                    <button type="button" class="btn-secondary" id="cancel-income-btn">Cancel</button>
                    <button type="submit" class="btn-primary" id="save-income-btn">Save Income Source</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Expense Modal -->
    <div id="expense-modal" class="modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="expense-modal-title">Add Fixed Expense</h3>
                <button class="modal-close" id="close-expense-modal">&times;</button>
            </div>
            <form id="expense-form">
                <div class="form-group">
                    <label for="expense-category">Category</label>
                    <select id="expense-category" required>
                        <option value="">Select category...</option>
                        <option value="housing">üè† Housing (Rent/Mortgage)</option>
                        <option value="utilities">üí° Utilities (Electric, Gas, Water)</option>
                        <option value="internet">üåê Internet & Phone</option>
                        <option value="insurance">üõ°Ô∏è Insurance</option>
                        <option value="transportation">üöó Transportation (Car Payment, Gas)</option>
                        <option value="debt">üí≥ Debt Payments</option>
                        <option value="subscriptions">üì∫ Subscriptions & Memberships</option>
                        <option value="childcare">üë∂ Childcare & Education</option>
                        <option value="other">üìù Other Fixed Expense</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="expense-name">Expense Name</label>
                    <input type="text" id="expense-name" placeholder="e.g., Mortgage Payment, Electric Bill" required>
                </div>
                <div class="form-group">
                    <label for="expense-amount">Monthly Amount</label>
                    <input type="number" id="expense-amount" placeholder="0.00" step="0.01" required>
                </div>
                <div class="form-group">
                    <label for="expense-due-date">Due Date (Day of Month)</label>
                    <input type="number" id="expense-due-date" placeholder="e.g., 15" min="1" max="31">
                </div>
                <div class="form-group checkbox-group">
                    <label>
                        <input type="checkbox" id="expense-autopay">
                        <span>Auto-pay enabled</span>
                    </label>
                </div>
                <div class="form-group">
                    <label for="expense-notes">Notes (Optional)</label>
                    <textarea id="expense-notes" placeholder="Additional details about this expense..." rows="3"></textarea>
                </div>
                <div class="modal-actions">
                    <button type="button" class="btn-secondary" id="cancel-expense-btn">Cancel</button>
                    <button type="submit" class="btn-primary" id="save-expense-btn">Save Expense</button>
                </div>
            </form>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>
